*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;display:flex;flex-direction:column;height:100vh;background:#f5f5f5}.header{background:white;padding:15px 20px;box-shadow:0 2px 4px rgba(0,0,0,0.1);display:flex;justify-content:space-between;align-items:center}.header h1{font-size:18px;color:#333}.back-btn{padding:8px 16px;background:#6c757d;color:white;text-decoration:none;border-radius:4px;font-size:14px}.back-btn:hover{background:#5a6268}.chat-container{flex:1;display:flex;flex-direction:column;max-width:1000px;width:100%;margin:0 auto;background:white;box-shadow:0 0 10px rgba(0,0,0,0.1);max-height:calc(100vh - 60px);overflow:hidden;position:relative}#messages{flex:1;overflow-y:auto;overflow-x:hidden;padding:20px;display:flex;flex-direction:column;gap:10px;min-height:0}.message{max-width:70%;padding:10px 15px;border-radius:18px;word-wrap:break-word}.message.own{align-self:flex-end;background:#667eea;color:white}.message.other{align-self:flex-start;background:#e9ecef;color:#333}.message-header{font-size:12px;margin-bottom:4px;opacity:0.8}.message-text{font-size:14px;line-height:1.4}.message-text.emoji-only{font-size:48px;line-height:1;background:none !important}.message.emoji-only-message{background:none !important;padding:5px}.message-time{font-size:11px;margin-top:4px;opacity:0.7;display:flex;align-items:center;gap:5px}.read-count{font-size:12px;color:#ff0000;font-weight:bold;background:#ffebee;padding:2px 6px;border-radius:10px;margin-right:5px}.system-message{align-self:center;font-size:12px;color:#999;background:none;padding:5px}.input-area{display:flex;padding:15px;background:white;border-top:1px solid #ddd;gap:10px}#messageInput{flex:1;padding:12px;border:1px solid #ddd;border-radius:20px;font-size:14px;outline:none}#messageInput:focus{border-color:#667eea}#sendBtn{padding:12px 30px;background:#667eea;color:white;border:none;border-radius:20px;cursor:pointer;font-size:14px;font-weight:bold}#sendBtn:hover{background:#5568d3}.typing-indicator{padding:10px 20px;font-size:13px;color:#666;font-style:italic;background:#f8f9fa;border-radius:15px;align-self:flex-start;display:none}.typing-indicator.show{display:block}.typing-dots{display:inline-block}.typing-dots span{animation:blink 1.4s infinite;animation-fill-mode:both}.typing-dots span:nth-child(2){animation-delay:0.2s}.typing-dots span:nth-child(3){animation-delay:0.4s}@keyframes blink{0%,80%,100%{opacity:0}40%{opacity:1}}.notification-banner{background:#fff3cd;border-left:4px solid #ffc107;padding:15px 20px;display:none;align-items:center;gap:15px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.notification-banner.show{display:flex}.notification-banner-text{flex:1;color:#856404}.notification-banner-text strong{display:block;margin-bottom:5px}.notification-banner-text small{font-size:12px}.notification-banner button{background:#ffc107;color:#000;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-weight:bold}.notification-banner button:hover{background:#e0a800}.close-banner{background:transparent !important;color:#856404 !important;font-size:20px;padding:0 8px !important}#attachBtn{padding:10px 16px;background:#f0f0f0;color:#555;border:1px solid #ddd;border-radius:20px;cursor:pointer;font-size:20px;transition:all 0.2s;display:flex;align-items:center;justify-content:center}#attachBtn:hover{background:#e0e0e0;border-color:#667eea;color:#667eea}#emojiBtn{padding:10px 16px;background:#f0f0f0;color:#555;border:1px solid #ddd;border-radius:20px;cursor:pointer;font-size:20px;transition:all 0.2s;display:flex;align-items:center;justify-content:center}#emojiBtn:hover{background:#e0e0e0;border-color:#667eea;color:#667eea}.emoji-picker{position:absolute;bottom:70px;left:15px;background:white;border:1px solid #ddd;border-radius:12px;padding:15px;display:none;box-shadow:0 4px 12px rgba(0,0,0,0.15);max-width:320px;z-index:1000}.emoji-picker.show{display:block}.emoji-picker-header{font-size:13px;color:#666;margin-bottom:10px;font-weight:bold}.emoji-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:8px;max-height:200px;overflow-y:auto}.emoji-item{font-size:24px;cursor:pointer;padding:8px;border-radius:8px;text-align:center;transition:all 0.2s}.emoji-item:hover{background:#f0f0f0;transform:scale(1.2)}.file-preview{padding:10px 15px;background:#f8f9fa;border-top:1px solid #ddd;display:none;gap:10px;flex-wrap:wrap}.file-preview.show{display:flex}.file-preview-item{position:relative;padding:8px 12px;background:white;border:1px solid #ddd;border-radius:8px;display:flex;align-items:center;gap:8px;font-size:13px}.file-preview-item img{width:40px;height:40px;object-fit:cover;border-radius:4px}.file-preview-item .remove-file{background:#dc3545;color:white;border:none;border-radius:50%;width:20px;height:20px;cursor:pointer;font-size:12px;line-height:1}.message-file{margin-top:8px;padding:10px;background:rgba(255,255,255,0.2);border-radius:8px;cursor:pointer}.message-file img{max-width:200px;max-height:200px;border-radius:8px;display:block}.message-file.document{display:flex;align-items:center;gap:10px}.message-file.document:hover{background:rgba(255,255,255,0.3)}.image-modal{display:none;position:fixed;z-index:10000;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.9);animation:fadeIn 0.2s}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.image-modal-content{position:relative;margin:auto;padding:0;width:90%;max-width:1200px;height:90%;display:flex;align-items:center;justify-content:center}.image-modal-content img{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px}.image-modal-close{position:absolute;top:20px;right:40px;color:#fff;font-size:40px;font-weight:bold;cursor:pointer;z-index:10001;transition:0.3s}.image-modal-close:hover,.image-modal-close:focus{color:#bbb}.image-modal-filename{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);color:#fff;background:rgba(0,0,0,0.7);padding:10px 20px;border-radius:8px;font-size:14px}#reminderBanner{position:fixed;top:0;left:0;right:0;z-index:9998;background:linear-gradient(135deg,#dc3545 0%,#c82333 100%);color:white;padding:12px 20px;box-shadow:0 2px 8px rgba(0,0,0,0.2);display:none;animation:slideDown 0.3s ease-out}#reminderBanner.show{display:flex}@keyframes slideDown{from{transform:translateY(-100%)}to{transform:translateY(0)}}#reminderBanner .banner-content{flex:1;display:flex;align-items:center;gap:12px;font-weight:bold}#reminderBanner .banner-icon{font-size:20px}#reminderBanner .banner-close{background:rgba(255,255,255,0.2);border:none;color:white;padding:4px 12px;border-radius:4px;cursor:pointer;font-size:14px;margin-left:10px}#reminderBanner .banner-close:hover{background:rgba(255,255,255,0.3)}#reminderBanner .banner-link{background:white;color:#dc3545;padding:6px 16px;border-radius:4px;text-decoration:none;font-weight:bold;margin-left:10px}#reminderBanner .banner-link:hover{background:#f8f9fa}body.has-banner #notificationBanner{margin-top:50px}body.has-banner .header{margin-top:50px}.help-button{position:fixed;bottom:20px;right:20px;width:56px;height:56px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;border-radius:50%;font-size:28px;cursor:pointer;box-shadow:0 4px 12px rgba(102,126,234,0.4);z-index:9997;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center}.help-button:hover{transform:scale(1.1);box-shadow:0 6px 16px rgba(102,126,234,0.6)}.help-button:active{transform:scale(0.95)}.help-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:10001;align-items:center;justify-content:center}.help-modal.active{display:flex}.help-modal-content{background:white;border-radius:12px;padding:30px;max-width:600px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 8px 32px rgba(0,0,0,0.3);animation:slideUpModal 0.3s ease-out}@keyframes slideUpModal{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.help-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #667eea}.help-modal-title{font-size:24px;font-weight:bold;color:#333;display:flex;align-items:center;gap:10px}.help-modal-close{background:none;border:none;font-size:28px;color:#999;cursor:pointer;transition:color 0.2s}.help-modal-close:hover{color:#333}.help-section{margin-bottom:25px}.help-section-title{font-size:18px;font-weight:bold;color:#667eea;margin-bottom:12px;display:flex;align-items:center;gap:8px}.help-content{color:#555;line-height:1.8;font-size:15px}.help-content ul{margin:10px 0;padding-left:20px}.help-content li{margin:8px 0}.help-content strong{color:#333;font-weight:600}.help-tip{background:#f8f9fa;border-left:4px solid #667eea;padding:12px 15px;margin:15px 0;border-radius:4px}.help-tip strong{color:#667eea}.nav-badge{display:inline-block;background:#dc3545;color:white;font-size:11px;font-weight:bold;padding:2px 6px;border-radius:10px;margin-left:5px;min-width:18px;text-align:center}